# java-convenience-store-precourse

## 기능 구현 목록

### **파일 입력 처리**

- Product, Promotion 파일로부터 객체 생성
  - product.md 파일로부터 상품 정보를 저장
    - 상품 이름, 가격, 일반 상품 수량, 프로모션, 프로모션 상품 수량
    - 상품 수량 차감 기능
  - promotion.md 파일로부터 프로모션 정보 저장
    - 프로모션 이름, 구매, 증정, 프로모션 시작일, 프로모션 종료일
    - 날짜가 프로모션 기간에 포함되는지 확인하는 기능

### **사용자 입력 처리**

- **상품명과 수량 입력 처리**
  - `[상품명-수량]` 형식의 입력을 파싱하여 개별 상품을 처리한다.
  - 잘못된 형식의 입력 시 `IllegalArgumentException`을 발생시키고, "[ERROR]"로 시작하는 메시지를 출력한 후 재입력을 받는다.
- **프로모션 적용 여부에 대한 사용자 입력 처리**
  - 프로모션 혜택을 받기 위해 추가 수량을 가져올 것인지 여부를 입력받는다 (`Y/N`).
  - 프로모션 재고 부족으로 인해 정가 결제를 진행할 것인지 여부를 입력받는다 (`Y/N`).
- **멤버십 할인 여부 입력 처리**
  - 멤버십 할인을 적용할지 여부를 입력받는다 (`Y/N`).
- **추가 구매 여부 입력 처리**
  - 추가 구매를 진행할지 여부를 입력받는다 (`Y/N`).

### **주문 처리 로직**

- **주문 생성 및 관리**
  - 사용자가 입력한 상품과 수량을 기반으로 `Order` 객체를 생성하고 관리한다.
  - 주문이 완료되면 영수증을 생성하여 `OutputView`에 출력한다.
- **상품과 수량 검증**
  - 상품이 재고에 있는지 여부를 검증한다.
  - 입력된 수량이 재고 수량을 초과하는 경우 `IllegalArgumentException`을 발생시킨다.
- **프로모션 적용 로직**
  - 특정 상품에 대해 프로모션이 적용 가능한지 확인한다 (`isPromotionApplicable`).
  - `Buy N Get 1 Free` 형태의 프로모션을 적용하고 무료 제공 수량을 계산한다 (`calculateFreeQuantity`).
  - 프로모션 혜택이 적용될 수 있도록 프로모션 재고를 우선 차감한다.
  - 프로모션 혜택을 받기 위해 추가 수량을 제안하거나, 정가 결제 여부를 안내한다.
- **멤버십 할인 로직**
  - 프로모션 적용 후 남은 금액에 대해 멤버십 할인(최대 8,000원 한도, 30% 할인)을 적용한다.
  - 멤버십 할인은 프로모션이 없는 상품에만 적용된다.
- **재고 관리**
  - 구매된 상품 수량을 재고에서 차감하여 최신 재고 상태를 유지한다.

### **영수증 출력**

- **구매 상품 내역 출력**
  - 각 상품의 이름, 수량, 총 금액을 정리하여 출력한다.
- **증정 상품 내역 출력**
  - 프로모션 혜택으로 제공된 무료 상품을 별도로 출력한다.
- **금액 정보 출력**
  - 총 구매액: 구매한 모든 상품의 총 금액
  - 행사 할인: 프로모션으로 인해 할인된 금액
  - 멤버십 할인: 멤버십으로 인해 할인된 금액
  - 최종 결제 금액: 총 구매액에서 행사 할인과 멤버십 할인을 적용한 금액
- **영수증 형식 정리**
  - 고객이 보기 쉽도록 상품 내역, 증정 내역, 금액 정보를 정렬하여 출력한다.

### **Inventory 기능**

- **상품 추가 및 관리**
  - 새로운 상품과 프로모션을 추가할 수 있다.
  - 특정 상품의 재고 수량을 관리한다.
- **프로모션 조회 및 관리**
  - 특정 상품에 대해 프로모션이 존재하는지 확인한다.
  - 특정 상품에 대한 프로모션 정보를 조회한다.

### **Order 기능**

- **상품 추가 및 관리**
  - 주문에 상품을 추가하고 관리한다.
  - 총 수량과 가격을 계산한다.
- **할인 금액 계산**
  - 프로모션에 따른 행사 할인을 계산한다.
  - 멤버십 할인을 적용하여 최종 할인 금액을 계산한다.
- **증정 상품 관리**
  - 프로모션에 의해 제공된 증정 상품을 관리하고 리스트로 반환한다.

### **View 기능**

- **입력 및 출력 관리**
  - 상품 목록과 재고 상태를 출력한다.
  - 사용자 입력을 처리하고 잘못된 입력에 대해 안내 메시지를 출력한다.
  - 영수증을 보기 좋은 형식으로 출력한다.